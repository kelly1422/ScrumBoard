{"ast":null,"code":"var _jsxFileName = \"/root/molcam3/noMajor/test/src/ImageUpload.js\";\nimport React, { Component, useEffect } from 'react';\nimport axios from 'axios';\nimport Gallery from \"react-photo-gallery\";\nimport styles from \"./photo.css\";\nimport { Row, Col, Form, Button } from \"react-bootstrap\";\nimport $ from \"jquery\";\nimport \"jquery.cookie\"; //import photos from \"./photo\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst headers = {\n  withCredentials: true\n};\nvar photos = [{\n  src: \"https://source.unsplash.com/2ShvY8Lf6l0/500x375 500w\"\n}];\n/* popout the browser and maximize to see more rows! -> */\n\nclass ImageUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null\n    };\n  }\n\n  handleFileInput(e) {\n    this.setState({\n      selectedFile: e.target.files[0]\n    });\n  }\n\n  handlePost() {\n    let formData = new FormData();\n    const config = {\n      header: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    formData.append(\"file\", this.state.selectedFile);\n    return axios.post(\"http://192.249.18.153/image/upload\", formData, config).then(res => {\n      console.log(res);\n      alert(res.data.success ? '성공' : '오류');\n      window.location.reload();\n    }).catch(err => {\n      console.log(err);\n      alert('실패');\n    }).then(() => window.location.reload());\n  }\n\n  render() {\n    const divStyle = {\n      marginTop: 20,\n      marginRight: 200,\n      marginLeft: 200\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: divStyle,\n        children: [\"\\uC5EC\\uAE30\\uC5D0 \\uB123\\uACE0 \\uC2F6\\uC740 \\uC0AC\\uC9C4\\uC744 \\uB123\\uC5B4\\uC8FC\\uC138\\uC694!\", /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formFile\",\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            visuallyHidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"file\",\n            onChange: e => this.handleFileInput(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            onClick: () => this.handlePost(),\n            size: \"sm\",\n            children: \"\\uC0AC\\uC9C4 \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: divStyle,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row no-gutters\",\n                children: photos.map((val, k) => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: val.src,\n                      className: \"photo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 29\n                    }, this)\n                  }, k, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ImageUpload;","map":{"version":3,"sources":["/root/molcam3/noMajor/test/src/ImageUpload.js"],"names":["React","Component","useEffect","axios","Gallery","styles","Row","Col","Form","Button","$","headers","withCredentials","photos","src","ImageUpload","constructor","props","state","selectedFile","handleFileInput","e","setState","target","files","handlePost","formData","FormData","config","header","append","post","then","res","console","log","alert","data","success","window","location","reload","catch","err","render","divStyle","marginTop","marginRight","marginLeft","map","val","k"],"mappings":"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","sourcesContent":["import React, { Component,useEffect } from 'react'\nimport axios from 'axios';\nimport Gallery from \"react-photo-gallery\";\nimport styles from \"./photo.css\"\nimport {Row,Col, Form, Button} from \"react-bootstrap\";\nimport $ from \"jquery\";\nimport {} from \"jquery.cookie\";\n//import photos from \"./photo\"\n\nconst headers = { withCredentials: true };\n\nvar photos = [{\n  src:\"https://source.unsplash.com/2ShvY8Lf6l0/500x375 500w\",\n   \n  \n\n}];\n\n/* popout the browser and maximize to see more rows! -> */\n\nclass ImageUpload extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      selectedFile: null,\n    }\n    \n  }\n\n  \n\n\n\n\n  handleFileInput(e){\n    this.setState({\n      selectedFile : e.target.files[0],\n    })\n  }\n  \n  handlePost(){\n    let formData = new FormData;\n    const config = {\n\t    header: {'content-type': 'multipart/form-data'}\n    }\n    formData.append(\"file\", this.state.selectedFile);\n    return axios.post(\"http://192.249.18.153/image/upload\", formData,config).then(res => {\n    console.log(res)\n      alert(res.data.success ? '성공':'오류')\n      window.location.reload();\n    }).catch(err => {\n        console.log(err)\n      alert('실패')\n    }).then(() => window.location.reload())\n  }\n\n  render() {\n    const divStyle = {\n      marginTop: 20,\n      marginRight: 200,\n      marginLeft:200 \n    };\n    return (\n        <div>\n      <div style={divStyle}>\n        여기에 넣고 싶은 사진을 넣어주세요!\n        <Form.Group controlId=\"formFile\" className=\"mb-3\">\n          <Form.Label visuallyHidden></Form.Label>\n          <Form.Control type=\"file\" onChange={e => this.handleFileInput(e) }/>\n          <Button type=\"button\" onClick={() => this.handlePost()} size = \"sm\">사진 업로드</Button>\n        </Form.Group>\n       </div>\n       <div style={divStyle}>\n       <div>\n            <Row>\n                <Col>\n                    <div className=\"row no-gutters\">\n                    {photos.map((val, k) => {\n                        return (\n                        <div className=\"col-sm-4\" key={k}>\n                            <img src={val.src}  className=\"photo\" />\n                        </div>)\n                        })\n                    }\n                     </div>\n                </Col>\n            </Row>\n        </div>\n        \n      </div>\n      </div>\n    )\n  }\n}\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}