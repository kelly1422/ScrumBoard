{"ast":null,"code":"var _jsxFileName = \"/root/noMajor/client/src/BoardWriteForm.js\";\nimport React, { Component } from \"react\";\nimport { CKEditor } from 'ckeditor4-react';\nimport { Button, Form, FormText } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport \"jquery.cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass NewSchedule extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: \"\"\n    };\n\n    this.writeSchedule = () => {\n      let url;\n      let send_param;\n      const scheduleTitle = this.scheduleTitle.value;\n      const scheduleContent = this.state.data;\n\n      if (scheduleTitle === undefined || scheduleTitle === \"\") {\n        alert(\"글 제목을 입력 해주세요.\");\n        this.scheduleTitle.focus();\n        return;\n      } else if (scheduleContent === undefined || scheduleContent === \"\") {\n        alert(\"글 내용을 입력 해주세요.\");\n        this.scheduleContent.focus();\n      }\n\n      if (this.props.location.query !== undefined) {\n        url = \"http://172.10.18.147:80/calendar/update\";\n        send_param = {\n          headers,\n          \"_id\": this.props.location.query._id,\n          \"title\": scheduleTitle,\n          \"content\": scheduleContent\n        };\n      } else {\n        url = \"http://172.10.18.147:80/calendar/write\";\n        send_param = {\n          headers,\n          \"_id\": $.cookie(\"login_id\"),\n          \"title\": scheduleTitle,\n          \"content\": scheduleContent\n        };\n      }\n\n      axios.post(url, send_param) //정상 수행\n      .then(returnData => {\n        if (returnData.data.message) {\n          alert(returnData.data.message);\n          window.location.href = \"/\";\n        } else {\n          alert(\"글쓰기 실패\");\n        }\n      }) //에러\n      .catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onEditorChange = evt => {\n      this.setState({\n        data: evt.editor.getData()\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.location.query !== undefined) {\n      this.boardTitle.value = this.props.location.query.title;\n    }\n  }\n\n  componentWillMount() {\n    if (this.props.location.query !== undefined) {\n      this.setState({\n        data: this.props.location.query.content\n      });\n    }\n  }\n\n  render() {\n    const divStyle = {\n      margin: 50\n    };\n    const titleStyle = {\n      marginBottom: 5\n    };\n    const buttonStyle = {\n      marginTop: 5\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: divStyle,\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uAE00\\uC4F0\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        style: titleStyle,\n        placeholder: \"\\uAE00 \\uC81C\\uBAA9\",\n        ref: ref => this.scheduleTitle = ref\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n        data: this.state.data,\n        onChange: this.onEditorChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: buttonStyle,\n        onClick: this.writeSchedule,\n        block: true,\n        children: \"\\uC800\\uC7A5\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default NewSchedule;","map":{"version":3,"sources":["/root/noMajor/client/src/BoardWriteForm.js"],"names":["React","Component","CKEditor","Button","Form","FormText","axios","$","defaults","withCredentials","headers","NewSchedule","state","data","writeSchedule","url","send_param","scheduleTitle","value","scheduleContent","undefined","alert","focus","props","location","query","_id","cookie","post","then","returnData","message","window","href","catch","err","console","log","onEditorChange","evt","setState","editor","getData","componentDidMount","boardTitle","title","componentWillMount","content","render","divStyle","margin","titleStyle","marginBottom","buttonStyle","marginTop","ref"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {CKEditor} from 'ckeditor4-react';\nimport { Button, Form, FormText} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport {} from \"jquery.cookie\";\naxios.defaults.withCredentials = true;\nconst headers = { withCredentials: true };\n\nclass NewSchedule extends Component {\n  state = {\n    data: \"\"\n  };\n\n  componentDidMount() {\n    if (this.props.location.query !== undefined) {\n      this.boardTitle.value = this.props.location.query.title;\n    }\n  }\n\n  componentWillMount(){\n    if (this.props.location.query !== undefined) {\n      this.setState({\n        data: this.props.location.query.content\n      });\n    }\n  }\n\n  writeSchedule = () => {\n    let url;\n    let send_param;\n\n    const scheduleTitle = this.scheduleTitle.value;\n    const scheduleContent = this.state.data;\n\n    if (scheduleTitle === undefined || scheduleTitle === \"\") {\n      alert(\"글 제목을 입력 해주세요.\");\n      this.scheduleTitle.focus();\n      return;\n    } else if (scheduleContent === undefined || scheduleContent === \"\") {\n      alert(\"글 내용을 입력 해주세요.\");\n      this.scheduleContent.focus();\n    }\n    \n    if (this.props.location.query !== undefined) {\n      url = \"http://172.10.18.147:80/calendar/update\";\n      send_param = {\n        headers,\n        \"_id\" : this.props.location.query._id,\n        \"title\": scheduleTitle,\n        \"content\": scheduleContent\n      };\n    } else {\n      url = \"http://172.10.18.147:80/calendar/write\";\n      send_param = {\n        headers,\n        \"_id\" : $.cookie(\"login_id\"),\n        \"title\": scheduleTitle,\n        \"content\": scheduleContent\n      };\n\n    }\n\n    axios\n      .post(url, send_param)\n      //정상 수행\n      .then(returnData => {\n        if (returnData.data.message) {\n          alert(returnData.data.message);\n          window.location.href = \"/\";\n        } else {\n          alert(\"글쓰기 실패\");\n        }\n      })\n      //에러\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  onEditorChange = evt => {\n    this.setState({\n      data:evt.editor.getData()\n    });\n  };\n\n  render() {\n    const divStyle = {\n      margin: 50\n    };\n    const titleStyle = {\n      marginBottom: 5\n    };\n    const buttonStyle = {\n      marginTop: 5\n    };\n\n    return (\n      <div style={divStyle} className=\"App\">\n        <h2>글쓰기</h2>\n        <Form.Control\n          type=\"text\"\n          style={titleStyle}\n          placeholder=\"글 제목\"\n          ref={ref => (this.scheduleTitle = ref)}\n        />\n        <CKEditor\n          data={this.state.data}\n          onChange={this.onEditorChange}\n        ></CKEditor>\n        <Button style={buttonStyle} onClick={this.writeSchedule} block>\n          저장하기\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default NewSchedule;"]},"metadata":{},"sourceType":"module"}